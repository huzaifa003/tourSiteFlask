<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
  <title>Tour Management</title>
</head>

<body>
  <!-- As a heading -->
  <nav class="navbar bg-body-tertiary">
    <div class="container-fluid">
      <span class="navbar-brand mb-0 h1">Hello {{name}} With ID {{id}}</span>
      <form method="POST"> <button name="logout" class="btn btn-outline-primary" type="submit"> LOGOUT</button> </form>
    </div>
  </nav>




    <table class="table ">
      <thead>
        <tr>
          <th scope="col">#</th>
          <th scope="col">Source</th>
          <th scope="col">Source Time</th>

          <th scope="col">Destination</th>
          <th scope="col">destination_time</th>

          <th scope="col">Seats</th>

          <th scope="col">Price</th>
          <th scope="col">departure</th>
          <th scope="col">Action</th>
        </tr>
      </thead>
      <tbody>
       <h2 class="bg-warning text-white text-center my-3">{% for rows in data %}</h2> 
     
          <tr>
            <th scope="row">{{rows['b_id']}}</th>
            <td>{{rows['source']}}</td>
            <td>{{rows['source_time']}}</td>
            <td>{{rows['destination']}}</td>
            <td>{{rows['destination_time']}}</td>
            <td>{{rows['seats']}}</td>
            <td>${{rows['cost']}}</td>
            <td>{{rows['departure']}}</td>
            <td><button id = "{{rows['b_id']}}" onclick="del(this.id)"  class="btn text-white bg-danger">Deletee</button></td>
          </tr>
    <h4 class="bg-success text-white text-center my-3">{%endfor%}</h4>
      
        <!-- <tr>
              <th scope="row">1</th>
              <td>Mark</td>
              <td>Otto</td>
              <td>@mdo</td>

              <td><button class="btn text-white bg-success">Take a tour</button></td>
          </tr>
          <tr>
              <th scope="row">2</th>
              <td>Jacob</td>
              <td>Thornton</td>
              <td>@fat</td>

              <td><button class="btn text-white bg-success">Take a tour</button></td>
          </tr>
          <tr>
              <th scope="row">3</th>
              <td>Larry the Bird</td>
              <td>@twitter</td>
              <td>@twitter</td>

              <td><button class="btn text-white bg-success">Take a tour</button></td>
          </tr> -->
      </tbody>
    </table>

    <form method="POST">

      <button name="booking" type="submit" class="btn btn-primary my-2"> Book New </a> </button>

    </form>
  </div>
</body>

<script>
  function del(id) {
    console.log("HELLo")
    $.ajax({
      url: "/deleteBooking",
      method: "POST",
      data : {"id": id},
      success: (data)=> {location.reload()}
    })
  }
</script>

</html>